{"ast":null,"code":"var _jsxFileName = \"/Users/Lewamey/Desktop/final_project/marketplace/frontend-marketplace/src/components/Navbar.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { logoutUser } from '../redux/actions';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport CategoryList from '../components/CategoryList';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass Navbar extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.loginButton = () => {\n      return localStorage.token ? null : React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(Link, {\n        href: \" \",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, \"Login\"));\n    };\n\n    this.handleClick = event => {\n      this.props.history.push('/login');\n    };\n\n    this.signUpButton = () => {\n      return localStorage.token ? null : React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(Link, {\n        href: \" \",\n        onClick: this.handleSignUpClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, \"Signup\"));\n    };\n\n    this.handleSignUpClick = event => {\n      this.props.history.push('/signup');\n    };\n\n    this.signOutButton = () => {\n      return localStorage.token ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(Link, {\n        href: \" \",\n        onClick: this.handleSignOutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"SignOut\")) : null;\n    };\n\n    this.handleSignOutClick = event => {\n      localStorage.clear();\n      this.props.logoutUser();\n      this.props.history.push('/'); // this.props.clearCurrentUser()\n    };\n\n    this.handleCartClick = event => {\n      this.props.history.push('/cart');\n    };\n\n    this.handleHomeClick = event => {\n      this.props.history.push('/');\n    };\n\n    this.mapOverCategories = () => {\n      if (this.props.categories.categories) {\n        return this.props.categories.categories.map(category => {\n          return React.createElement(CategoryList, {\n            key: category.id,\n            history: this.props.history,\n            category: category,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          });\n        });\n      }\n    };\n\n    this.cartItemQty = () => {\n      let tot_qty = 0;\n\n      if (this.props.current_site_user.orders) {\n        this.current_order().order_items.map(item => tot_qty += item.quantity);\n      }\n\n      return tot_qty;\n    };\n  }\n\n  current_order() {\n    if (this.props.current_site_user.orders) {\n      return this.props.current_site_user.orders.find(order => {\n        return this.props.current_site_user.current_order === order.id;\n      });\n    }\n  }\n\n  render() {\n    console.log(this.cartItemQty());\n    return React.createElement(\"div\", {\n      className: \"navbar2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top-nav-ul\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: this.handleHomeClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Home\")), this.loginButton(), this.signUpButton(), this.props.current_site_user.name ? React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"username\",\n      href: \" \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Welcome \", this.props.current_site_user.name)) : null, React.createElement(\"li\", {\n      className: \"cart-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"\",\n      onClick: this.handleCartClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: \"shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), \" \", this.cartItemQty())), this.signOutButton())), React.createElement(\"div\", {\n      className: \"home-categories-navbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.mapOverCategories()));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  current_site_user: state.current_site_user,\n  categories: state.categories\n});\n\nconst mapDispatchToProps = dispatch => ({\n  logoutUser: () => dispatch(logoutUser())\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar));","map":{"version":3,"sources":["/Users/Lewamey/Desktop/final_project/marketplace/frontend-marketplace/src/components/Navbar.js"],"names":["React","Component","connect","logoutUser","withRouter","Link","CategoryList","FontAwesomeIcon","Navbar","loginButton","localStorage","token","handleClick","event","props","history","push","signUpButton","handleSignUpClick","signOutButton","handleSignOutClick","clear","handleCartClick","handleHomeClick","mapOverCategories","categories","map","category","id","cartItemQty","tot_qty","current_site_user","orders","current_order","order_items","item","quantity","find","order","render","console","log","name","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,eAAT,QAAgC,gCAAhC;;AAEA,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAAA;AAAA;;AAAA,SAG3BQ,WAH2B,GAGb,MAAM;AAChB,aAAOC,YAAY,CAACC,KAAb,GAAqB,IAArB,GAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAe,QAAA,OAAO,EAAE,KAAKC,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CAAnC;AACH,KAL0B;;AAAA,SAM3BA,WAN2B,GAMbC,KAAK,IAAI;AACnB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH,KAR0B;;AAAA,SAW3BC,YAX2B,GAWZ,MAAM;AACjB,aAAOP,YAAY,CAACC,KAAb,GAAqB,IAArB,GAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAgB,QAAA,OAAO,EAAE,KAAKO,iBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,CAAnC;AACH,KAb0B;;AAAA,SAc3BA,iBAd2B,GAcPL,KAAK,IAAI;AACzB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACH,KAhB0B;;AAAA,SAmB3BG,aAnB2B,GAmBX,MAAM;AAClB,aAAOT,YAAY,CAACC,KAAb,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAe,QAAA,OAAO,EAAE,KAAKS,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAJ,CAA1B,GACR,IADC;AAEH,KAtB0B;;AAAA,SAuB3BA,kBAvB2B,GAuBNP,KAAK,IAAI;AAC1BH,MAAAA,YAAY,CAACW,KAAb;AACA,WAAKP,KAAL,CAAWX,UAAX;AACA,WAAKW,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAH0B,CAI1B;AACH,KA5B0B;;AAAA,SA8B3BM,eA9B2B,GA8BTT,KAAK,IAAI;AACvB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,KAhC0B;;AAAA,SAkC3BO,eAlC2B,GAkCTV,KAAK,IAAI;AACvB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,KApC0B;;AAAA,SAuC3BQ,iBAvC2B,GAuCP,MAAM;AACtB,UAAK,KAAKV,KAAL,CAAWW,UAAX,CAAsBA,UAA3B,EAAuC;AACvC,eAAO,KAAKX,KAAL,CAAWW,UAAX,CAAsBA,UAAtB,CAAiCC,GAAjC,CAAsCC,QAAD,IAAc;AACtD,iBAAO,oBAAC,YAAD;AAAc,YAAA,GAAG,EAAEA,QAAQ,CAACC,EAA5B;AAAgC,YAAA,OAAO,EAAE,KAAKd,KAAL,CAAWC,OAApD;AAA6D,YAAA,QAAQ,EAAEY,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,SAFM,CAAP;AAGH;AACA,KA7C0B;;AAAA,SAyD3BE,WAzD2B,GAyDb,MAAM;AAChB,UAAIC,OAAO,GAAG,CAAd;;AACA,UAAI,KAAKhB,KAAL,CAAWiB,iBAAX,CAA6BC,MAAjC,EAAyC;AAAE,aAAKC,aAAL,GAAqBC,WAArB,CAAiCR,GAAjC,CAAsCS,IAAD,IAAWL,OAAO,IAAIK,IAAI,CAACC,QAAhE;AAA0E;;AACrH,aAAON,OAAP;AACH,KA7D0B;AAAA;;AAiD3BG,EAAAA,aAAa,GAAG;AACZ,QAAI,KAAKnB,KAAL,CAAWiB,iBAAX,CAA6BC,MAAjC,EAAyC;AACrC,aAAO,KAAKlB,KAAL,CAAWiB,iBAAX,CAA6BC,MAA7B,CAAoCK,IAApC,CAAyCC,KAAK,IAAI;AACrD,eAAO,KAAKxB,KAAL,CAAWiB,iBAAX,CAA6BE,aAA7B,KAA+CK,KAAK,CAACV,EAA5D;AACH,OAFM,CAAP;AAGH;AACJ;;AAUDW,EAAAA,MAAM,GAAG;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,WAAL,EAAZ;AAEA,WACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKN,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CADJ,EAEK,KAAKd,WAAL,EAFL,EAGK,KAAKQ,YAAL,EAHL,EAIK,KAAKH,KAAL,CAAWiB,iBAAX,CAA6BW,IAA7B,GAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,oBAAC,IAAD;AAAO,MAAA,SAAS,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA8C,KAAK5B,KAAL,CAAWiB,iBAAX,CAA6BW,IAA3E,CAAJ,CAApC,GAAuI,IAJ5I,EAKI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,EAAhB;AAAoB,MAAA,OAAO,EAAE,KAAKpB,eAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAoD,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAC,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAApD,OAA6F,KAAKO,WAAL,EAA7F,CAA1B,CALJ,EAMK,KAAKV,aAAL,EANL,CADJ,CADJ,EAWI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKK,iBAAL,EADL,CAXJ,CADJ;AAiBH;;AArF0B;;AAyF/B,MAAMmB,eAAe,GAAGC,KAAK,KAAK;AAC9Bb,EAAAA,iBAAiB,EAAEa,KAAK,CAACb,iBADK;AAE9BN,EAAAA,UAAU,EAAEmB,KAAK,CAACnB;AAFY,CAAL,CAA7B;;AAKA,MAAMoB,kBAAkB,GAAGC,QAAQ,KAAK;AACpC3C,EAAAA,UAAU,EAAE,MAAM2C,QAAQ,CAAC3C,UAAU,EAAX;AADU,CAAL,CAAnC;;AAKA,eAAeC,UAAU,CAACF,OAAO,CAACyC,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CrC,MAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux';\nimport {logoutUser} from '../redux/actions';\nimport { withRouter } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport CategoryList from '../components/CategoryList'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass Navbar extends Component {\n\n    // Controls login button\n    loginButton = () => {\n        return localStorage.token ? null : <li><Link href=\" \" onClick={this.handleClick}>Login</Link></li>;\n    }\n    handleClick = event => {\n        this.props.history.push('/login')\n    }\n\n    // Controls signup button\n    signUpButton = () => {\n        return localStorage.token ? null : <li><Link href=\" \"  onClick={this.handleSignUpClick}>Signup</Link></li> ;\n    }\n    handleSignUpClick = event => {\n        this.props.history.push('/signup')\n    }\n\n    // Controls logout button\n    signOutButton = () => {\n        return localStorage.token ?      <li><Link href=\" \" onClick={this.handleSignOutClick}>SignOut</Link></li>\n     : null ;\n    }\n    handleSignOutClick = event => {\n        localStorage.clear()\n        this.props.logoutUser()\n        this.props.history.push('/')\n        // this.props.clearCurrentUser()\n    }\n\n    handleCartClick = event => {\n        this.props.history.push('/cart')\n    }\n\n    handleHomeClick = event => {\n        this.props.history.push('/')\n    }\n    \n\n    mapOverCategories = () => {   \n        if  (this.props.categories.categories) { \n        return this.props.categories.categories.map((category) => {\n            return <CategoryList key={category.id} history={this.props.history} category={category} />\n        })\n    }\n    }\n\n\n\n    current_order() {\n        if (this.props.current_site_user.orders) {\n            return this.props.current_site_user.orders.find(order => { \n                return this.props.current_site_user.current_order === order.id\n            })\n        }\n    }\n\n    cartItemQty = () => {\n        let tot_qty = 0\n        if (this.props.current_site_user.orders) { this.current_order().order_items.map((item) =>  tot_qty += item.quantity)}\n        return tot_qty \n    }\n\n\n\n    render() {\n        console.log(this.cartItemQty());\n        \n        return (\n            <div className=\"navbar2\">\n                <div className=\"top-nav-ul\">\n                    <ul>\n                        <li><Link onClick={this.handleHomeClick}>Home</Link></li>\n                        {this.loginButton()}\n                        {this.signUpButton()}\n                        {this.props.current_site_user.name ? <li><Link  className=\"username\" href=\" \">Welcome {this.props.current_site_user.name}</Link></li> : null }\n                        <li className=\"cart-icon\"><Link className=\"\"  onClick={this.handleCartClick}> <FontAwesomeIcon icon=\"shopping-cart\"/> {this.cartItemQty()}</Link></li>\n                        {this.signOutButton()}\n                    </ul>\n                </div>\n                <div className=\"home-categories-navbar\">\n                    {this.mapOverCategories()}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => ({\n    current_site_user: state.current_site_user,\n    categories: state.categories\n})\n\nconst mapDispatchToProps = dispatch => ({\n    logoutUser: () => dispatch(logoutUser())\n\n})\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Navbar))"]},"metadata":{},"sourceType":"module"}